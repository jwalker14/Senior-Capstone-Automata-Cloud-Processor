local_slide( {"name":"08C74C35-0840-407B-8F73-6CF29C90EFCC","json":{"assets":{"47F3D43FFEDEB89BD413B478789B97A9":{"type":"texture","index":60,"assetRequest":{"type":"slide","state":"outgoing","slide":"08C74C35-0840-407B-8F73-6CF29C90EFCC"},"url":{"web":"assets/47F3D43FFEDEB89BD413B478789B97A9.svg"},"width":1024,"height":768},"ABC024BB8DCC5F1F956C423AE47C85D1":{"type":"texture","index":61,"assetRequest":{"type":"slide","state":"incoming","slide":"638508AB-CA76-4E33-BAA6-AACCC8CEA751"},"url":{"web":"assets/ABC024BB8DCC5F1F956C423AE47C85D1.svg"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"ABC024BB8DCC5F1F956C423AE47C85D1"},{"animations":[{"timeOffset":0,"from":{"scalar":false},"beginTime":0,"repeatCount":0,"fillMode":"both","property":"hidden","autoreverses":false,"duration":0.01,"to":{"scalar":true}}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"47F3D43FFEDEB89BD413B478789B97A9"}]}]},"effects":[],"duration":0.01,"type":"transition","name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"module.exports = Mosca","targetRectangle":{"y":716.15734821558,"x":601.0657958984375,"width":279.1326561123133,"height":38}},{"text":"nodemon ap-server.js â€” Starting the server","targetRectangle":{"y":61,"x":49,"width":773.3731199999997,"height":48.32814758300782}},{"text":"Mosca.prototype = {","targetRectangle":{"y":144.739351272583,"x":600.8658447265625,"width":150.6291210399941,"height":16}},{"text":"\tsetup: function(){","targetRectangle":{"y":159.1393508911133,"x":600.8658447265625,"width":188.6978515116498,"height":16}},{"text":"\t\tconsole.log('MQTT up');","targetRectangle":{"y":173.5393505096436,"x":600.8658447265625,"width":274.3541991533712,"height":16}},{"text":"\t},","targetRectangle":{"y":187.9393501281738,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tclientConnected: function(client){","targetRectangle":{"y":216.7393493652344,"x":600.8658447265625,"width":315.5981639651582,"height":16}},{"text":"\t\tconsole.log('connected', client.id)","targetRectangle":{"y":231.1393489837646,"x":600.8658447265625,"width":369.5294334935024,"height":16}},{"text":"\t},","targetRectangle":{"y":245.5393486022949,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tclientDisconnecting: function(client){","targetRectangle":{"y":274.3393478393555,"x":600.8658447265625,"width":347.3232420785353,"height":16}},{"text":"\t\tconsole.log('disconnecting', client.id)","targetRectangle":{"y":288.7393474578857,"x":600.8658447265625,"width":401.2545116068795,"height":16}},{"text":"\t},","targetRectangle":{"y":303.139347076416,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tclientDisconnected: function(client){","targetRectangle":{"y":331.9393463134766,"x":600.8658447265625,"width":339.391972550191,"height":16}},{"text":"\t\tconsole.log('disconnected', client.id)","targetRectangle":{"y":346.3393459320068,"x":600.8658447265625,"width":393.3232420785353,"height":16}},{"text":"\t},","targetRectangle":{"y":360.7393455505371,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tpublished: function(packet, client){","targetRectangle":{"y":389.5393447875977,"x":600.8658447265625,"width":331.4607030218467,"height":16}},{"text":"\t\tconsole.log('published', packet)","targetRectangle":{"y":403.9393444061279,"x":600.8658447265625,"width":345.7356249084696,"height":16}},{"text":"\t\tconsole.log('from', client)","targetRectangle":{"y":418.3393440246582,"x":600.8658447265625,"width":306.0792772667482,"height":16}},{"text":"\t},","targetRectangle":{"y":432.7393436431885,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tdelivered: function(packet, client){","targetRectangle":{"y":461.539342880249,"x":600.8658447265625,"width":331.4607030218467,"height":16}},{"text":"\t\tconsole.log('delivered', packet)","targetRectangle":{"y":475.9393424987793,"x":600.8658447265625,"width":345.7356249084696,"height":16}},{"text":"\t\tconsole.log('to', client)","targetRectangle":{"y":490.3393421173096,"x":600.8658447265625,"width":290.2167382100597,"height":16}},{"text":"\t},","targetRectangle":{"y":504.7393417358398,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tsubscribed: function(topic, client){","targetRectangle":{"y":533.5393409729004,"x":600.8658447265625,"width":331.4607030218467,"height":16}},{"text":"\t\tconsole.log(client, 'subscribed')","targetRectangle":{"y":547.9393405914307,"x":600.8658447265625,"width":353.6668944368139,"height":16}},{"text":"\t\tconsole.log('to', topic)","targetRectangle":{"y":562.3393402099609,"x":600.8658447265625,"width":282.2854686817154,"height":16}},{"text":"\t},","targetRectangle":{"y":576.7393398284912,"x":600.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tunsubscribed: function(topic, client){","targetRectangle":{"y":605.5393390655518,"x":600.8658447265625,"width":347.3232420785353,"height":16}},{"text":"\t\tconsole.log(client, 'unsubscribed')","targetRectangle":{"y":619.939338684082,"x":600.8658447265625,"width":369.5294334935024,"height":16}},{"text":"\t\tconsole.log('from', topic)","targetRectangle":{"y":634.3393383026123,"x":600.8658447265625,"width":298.148007738404,"height":16}},{"text":"\t}","targetRectangle":{"y":648.7393379211426,"x":600.8658447265625,"width":53.86626952979714,"height":16}},{"text":"}","targetRectangle":{"y":677.5393371582031,"x":600.8658447265625,"width":7.931269528344274,"height":16}},{"text":"Mosca Class (Mosca.js)","targetRectangle":{"y":145.9999995827675,"x":54.06890869140625,"width":265.2283592373133,"height":38}},{"text":"var mosca = require('mosca');","targetRectangle":{"y":193.6786613464355,"x":52.8658447265625,"width":229.9418163234368,"height":16}},{"text":"//CLASS TO START THE MQTT SERVER","targetRectangle":{"y":236.8786602020264,"x":52.8658447265625,"width":253.7356249084696,"height":16}},{"text":"function Mosca(){","targetRectangle":{"y":251.2786598205566,"x":52.8658447265625,"width":134.7665819833055,"height":16}},{"text":"\tthis.ascoltatore = {","targetRectangle":{"y":280.0786590576172,"x":52.8658447265625,"width":204.5603905683383,"height":16}},{"text":"\t  //using ascoltatore","targetRectangle":{"y":294.4786586761475,"x":52.8658447265625,"width":212.4916600966826,"height":16}},{"text":"\t  type: 'mongo',","targetRectangle":{"y":308.8786582946777,"x":52.8658447265625,"width":172.8353124549612,"height":16}},{"text":"\t  url: settings.mongo.uri,","targetRectangle":{"y":323.278657913208,"x":52.8658447265625,"width":252.148007738404,"height":16}},{"text":"\t  pubsubCollection: 'MQTT',","targetRectangle":{"y":337.6786575317383,"x":52.8658447265625,"width":260.0792772667482,"height":16}},{"text":"\t  mongo: {}","targetRectangle":{"y":352.0786571502686,"x":52.8658447265625,"width":133.1789648132399,"height":16}},{"text":"\t},","targetRectangle":{"y":366.4786567687988,"x":52.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\tthis.settings = {","targetRectangle":{"y":395.2786560058594,"x":52.8658447265625,"width":180.7665819833055,"height":16}},{"text":"\t\tport: 1883,","targetRectangle":{"y":409.6786556243896,"x":52.8658447265625,"width":179.1789648132399,"height":16}},{"text":"\t\tbackend: this.ascoltatore,","targetRectangle":{"y":424.0786552429199,"x":52.8658447265625,"width":298.148007738404,"height":16}},{"text":"\t\thttp: {","targetRectangle":{"y":438.4786548614502,"x":52.8658447265625,"width":147.4538866998628,"height":16}},{"text":"\t    port: 1884,","targetRectangle":{"y":452.8786544799805,"x":52.8658447265625,"width":164.904042926617,"height":16}},{"text":"\t    bundle: true,","targetRectangle":{"y":467.2786540985107,"x":52.8658447265625,"width":180.7665819833055,"height":16}},{"text":"\t    static: './'","targetRectangle":{"y":481.678653717041,"x":52.8658447265625,"width":172.8353124549612,"height":16}},{"text":"\t  }","targetRectangle":{"y":496.0786533355713,"x":52.8658447265625,"width":69.72880858648568,"height":16}},{"text":"\t},","targetRectangle":{"y":510.4786529541016,"x":52.8658447265625,"width":61.79753905814141,"height":16}},{"text":"\t//Create the server","targetRectangle":{"y":539.2786521911621,"x":52.8658447265625,"width":196.6291210399941,"height":16}},{"text":"\tthis.server = new mosca.Server(this.settings)","targetRectangle":{"y":553.6786518096924,"x":52.8658447265625,"width":402.8421287769452,"height":16}},{"text":"\t//get some listener functions","targetRectangle":{"y":568.0786514282227,"x":52.8658447265625,"width":275.9418163234368,"height":16}},{"text":"\tthis.server.on('clientConnected', this.clientConnected);","targetRectangle":{"y":582.4786510467529,"x":52.8658447265625,"width":490.0860935887322,"height":16}},{"text":"\tthis.server.on('clientDisconnecting', this.clientDisconnecting);","targetRectangle":{"y":596.8786506652832,"x":52.8658447265625,"width":553.5362498154864,"height":16}},{"text":"\tthis.server.on('clientDisconnected', this.clientDisconnected);","targetRectangle":{"y":611.2786502838135,"x":52.8658447265625,"width":537.6737107587978,"height":16}},{"text":"\tthis.server.on('published', this.published);","targetRectangle":{"y":625.6786499023438,"x":52.8658447265625,"width":394.9108592486009,"height":16}},{"text":"\tthis.server.on('delivered', this.delivered);","targetRectangle":{"y":640.078649520874,"x":52.8658447265625,"width":394.9108592486009,"height":16}},{"text":"\tthis.server.on('subscribed', this.subscribed);","targetRectangle":{"y":654.4786491394043,"x":52.8658447265625,"width":410.7733983052894,"height":16}},{"text":"\tthis.server.on('unsubscribed', this.unsubscribed);","targetRectangle":{"y":668.8786487579346,"x":52.8658447265625,"width":442.4984764186665,"height":16}},{"text":"\t// fired when a message is received","targetRectangle":{"y":683.2786483764648,"x":52.8658447265625,"width":323.5294334935024,"height":16}},{"text":"\t//when the server is ready let us know please","targetRectangle":{"y":697.6786479949951,"x":52.8658447265625,"width":402.8421287769452,"height":16}},{"text":"\tthis.server.on('ready', this.setup);","targetRectangle":{"y":712.0786476135254,"x":52.8658447265625,"width":331.4607030218467,"height":16}},{"text":"}","targetRectangle":{"y":726.4786472320557,"x":52.8658447265625,"width":7.866269529797137,"height":16}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"47F3D43FFEDEB89BD413B478789B97A9"}]}]}}]}} )