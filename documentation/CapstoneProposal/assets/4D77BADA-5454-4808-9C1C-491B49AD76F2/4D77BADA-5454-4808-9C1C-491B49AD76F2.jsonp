local_slide( {"name":"4D77BADA-5454-4808-9C1C-491B49AD76F2","json":{"assets":{"C3658EAA7CD6354A9F853F8CED93A8E3":{"type":"texture","index":64,"assetRequest":{"type":"slide","state":"outgoing","slide":"4D77BADA-5454-4808-9C1C-491B49AD76F2"},"url":{"web":"assets/C3658EAA7CD6354A9F853F8CED93A8E3.svg"},"width":1024,"height":768},"F20A2E1944E86B8517452BAF709920BD":{"type":"texture","index":65,"assetRequest":{"type":"slide","state":"incoming","slide":"DBBA7AEF-D6ED-4A11-AD44-4A2E9301434F"},"url":{"web":"assets/F20A2E1944E86B8517452BAF709920BD.svg"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"F20A2E1944E86B8517452BAF709920BD"},{"animations":[{"timeOffset":0,"from":{"scalar":false},"beginTime":0,"repeatCount":0,"fillMode":"both","property":"hidden","autoreverses":false,"duration":0.01,"to":{"scalar":true}}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"C3658EAA7CD6354A9F853F8CED93A8E3"}]}]},"effects":[],"duration":0.01,"type":"transition","name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"nodemon ap-server.js â€” Starting the server","targetRectangle":{"y":61,"x":49,"width":773.3731199999997,"height":48.32814758300782}},{"text":"//DEVICE ROUTES","targetRectangle":{"y":146.5000057220459,"x":104.2589721679688,"width":128.050507767126,"height":17}},{"text":"rest.route('/api/v1/devices')","targetRectangle":{"y":163.5000057220459,"x":104.2589721679688,"width":247.6296483483166,"height":17}},{"text":"\t.get(function(req, res){","targetRectangle":{"y":180.5000057220459,"x":104.2589721679688,"width":250.9228124264628,"height":17}},{"text":"\t})","targetRectangle":{"y":197.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"\t.post(function(req, res){","targetRectangle":{"y":214.5000057220459,"x":104.2589721679688,"width":259.4641796108335,"height":17}},{"text":"\t})","targetRectangle":{"y":231.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"//SINGLE DEVICE ROUTES","targetRectangle":{"y":248.5000057220459,"x":104.2589721679688,"width":187.8400780577213,"height":17}},{"text":"rest.route('/api/v1/device/:id')\t//match all routes","targetRectangle":{"y":265.5000057220459,"x":104.2589721679688,"width":429.6746093202382,"height":17}},{"text":"\t.get(function(req, res){\t\t// GET THE REQUESTED DEVICE","targetRectangle":{"y":282.5000057220459,"x":104.2589721679688,"width":552.546913979575,"height":17}},{"text":"\t\tap = new Automaton(req.params.id); //ignore this name please","targetRectangle":{"y":299.5000057220459,"x":104.2589721679688,"width":604.41203106381,"height":17}},{"text":"\t\tap.M.findOne({_id: req.params.id}, function(err, model){","targetRectangle":{"y":316.5000057220459,"x":104.2589721679688,"width":570.246562326327,"height":17}},{"text":"\t\t\tif(err) handleError(err);","targetRectangle":{"y":333.5000057220459,"x":104.2589721679688,"width":351.4641796108335,"height":17}},{"text":"\t\t\tres.send(model)","targetRectangle":{"y":350.5000057220459,"x":104.2589721679688,"width":266.050507767126,"height":17}},{"text":"\t\t})","targetRectangle":{"y":367.5000057220459,"x":104.2589721679688,"width":109.0127343703061,"height":17}},{"text":"\t})","targetRectangle":{"y":384.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"\t.put(function(req, res){\t\t// UPDATE WHOLE DEVICE MODEL","targetRectangle":{"y":401.5000057220459,"x":104.2589721679688,"width":561.0882811639458,"height":17}},{"text":"\t})","targetRectangle":{"y":418.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"\t.patch(function(req,res){\t\t// UPDATE ONLY CHANGED ATTRIBUTES (just implement the same)","targetRectangle":{"y":435.5000057220459,"x":104.2589721679688,"width":825.8706638794392,"height":17}},{"text":"\t})","targetRectangle":{"y":452.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"\t.delete(function(req, res){\t// DELETE THE SPECIFIED DEVICE","targetRectangle":{"y":469.5000057220459,"x":104.2589721679688,"width":578.1710155326873,"height":17}},{"text":"\t})","targetRectangle":{"y":486.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"// Trigger an action","targetRectangle":{"y":520.5000057220459,"x":104.2589721679688,"width":170.7573436889797,"height":17}},{"text":"rest.route('/api/v1/device/:id/action/:action')","targetRectangle":{"y":537.5000057220459,"x":104.2589721679688,"width":401.3742576669902,"height":17}},{"text":"\t.get(function(req, res){","targetRectangle":{"y":554.5000057220459,"x":104.2589721679688,"width":250.9228124264628,"height":17}},{"text":"\t\tmosca.server.publish({","targetRectangle":{"y":571.5000057220459,"x":104.2589721679688,"width":279.8400780577213,"height":17}},{"text":"\t\t\ttopic: req.params.id + '/transition/' + req.params.action,","targetRectangle":{"y":588.5000057220459,"x":104.2589721679688,"width":633.3292966950685,"height":17}},{"text":"\t\t\tpayload: 'Message'","targetRectangle":{"y":605.5000057220459,"x":104.2589721679688,"width":291.6746093202382,"height":17}},{"text":"\t\t}, function(){","targetRectangle":{"y":622.5000057220459,"x":104.2589721679688,"width":211.5091405827552,"height":17}},{"text":"\t\t\tres.send(\"Pushed\")","targetRectangle":{"y":639.5000057220459,"x":104.2589721679688,"width":291.6746093202382,"height":17}},{"text":"\t\t})","targetRectangle":{"y":656.5000057220459,"x":104.2589721679688,"width":109.0127343703061,"height":17}},{"text":"\t})","targetRectangle":{"y":673.5000057220459,"x":104.2589721679688,"width":63.01273437030613,"height":17}},{"text":"//Turn the restful service on","targetRectangle":{"y":690.5000057220459,"x":104.2589721679688,"width":247.6296483483166,"height":17}},{"text":"RESTfulServices.listen(settings.RESTful.port, function(){","targetRectangle":{"y":707.5000057220459,"x":104.2589721679688,"width":486.7879295106977,"height":17}},{"text":"\tconsole.log('RESTful port 3000')","targetRectangle":{"y":724.5000057220459,"x":104.2589721679688,"width":319.2537499014288,"height":17}},{"text":"})","targetRectangle":{"y":741.5000057220459,"x":104.2589721679688,"width":17.01273437030613,"height":17}},{"text":"2 things","targetRectangle":{"y":293.9999995827675,"x":895.0689086914062,"width":91.7497655749321,"height":38}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"C3658EAA7CD6354A9F853F8CED93A8E3"}]}]}}]}} )