local_slide( {"name":"624A2AA5-B1AB-4934-86A1-33DABB0AAE27","json":{"assets":{"0A2215BA578701491A129FE9090DA09B":{"type":"texture","index":94,"assetRequest":{"type":"slide","state":"outgoing","slide":"624A2AA5-B1AB-4934-86A1-33DABB0AAE27"},"url":{"web":"assets/0A2215BA578701491A129FE9090DA09B.svg"},"width":1024,"height":768},"EBFC02DE4FFF8F7C31AC7EEBFAE177E2":{"type":"texture","index":95,"assetRequest":{"type":"slide","state":"incoming","slide":"5FB9A11A-4D3E-419E-97C8-5482130C0B7D"},"url":{"web":"assets/EBFC02DE4FFF8F7C31AC7EEBFAE177E2.svg"},"width":1024,"height":768}},"events":[{"effects":[{"beginTime":0,"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"EBFC02DE4FFF8F7C31AC7EEBFAE177E2"},{"animations":[{"timeOffset":0,"from":{"scalar":false},"beginTime":0,"repeatCount":0,"fillMode":"both","property":"hidden","autoreverses":false,"duration":0.01,"to":{"scalar":true}}],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0A2215BA578701491A129FE9090DA09B"}]}]},"effects":[],"duration":0.01,"type":"transition","name":"none","objectID":"0"}],"automaticPlay":false,"hyperlinks":[],"accessibility":[{"text":"Client.prototype = {","targetRectangle":{"y":138,"x":55.16859436035156,"width":158.5603905683383,"height":16}},{"text":"\t//this is the location of the MQTT server right now","targetRectangle":{"y":154,"x":55.16859436035156,"width":450.4297459470108,"height":16}},{"text":"\tmqtt_options: {","targetRectangle":{"y":170,"x":55.16859436035156,"width":164.904042926617,"height":16}},{"text":"\t  clientId: 'mqttjs_' + Math.random().toString(16).substr(2, 8),","targetRectangle":{"y":186,"x":55.16859436035156,"width":553.5362498154864,"height":16}},{"text":"\t  protocolId: 'MQTT',","targetRectangle":{"y":202,"x":55.16859436035156,"width":212.4916600966826,"height":16}},{"text":"\t},","targetRectangle":{"y":218,"x":55.16859436035156,"width":61.79753905814141,"height":16}},{"text":"\tmqtt_uri: 'ws://localhost:1884',","targetRectangle":{"y":234,"x":55.16859436035156,"width":299.7356249084696,"height":16}},{"text":"\t/**","targetRectangle":{"y":250,"x":55.16859436035156,"width":69.72880858648568,"height":16}},{"text":"\t * Initializes the MQTT connection up with the presence and id topic subscribed to","targetRectangle":{"y":266,"x":55.16859436035156,"width":696.2991013256833,"height":16}},{"text":"\t * @return none","targetRectangle":{"y":282,"x":55.16859436035156,"width":164.904042926617,"height":16}},{"text":"\t */","targetRectangle":{"y":298,"x":55.16859436035156,"width":69.72880858648568,"height":16}},{"text":"\tinit: function(){","targetRectangle":{"y":314,"x":55.16859436035156,"width":180.7665819833055,"height":16}},{"text":"\t\tif(this.id){","targetRectangle":{"y":330,"x":55.16859436035156,"width":187.1102343415841,"height":16}},{"text":"\t\t\tthis.client = mqtt.connect(this.mqtt_uri, this.mqtt_options)","targetRectangle":{"y":346,"x":55.16859436035156,"width":613.8111717021093,"height":16}},{"text":"\t\t\tvar C = this.client","targetRectangle":{"y":362,"x":55.16859436035156,"width":288.6291210399941,"height":16}},{"text":"\t\t\tconsole.log(this.client)","targetRectangle":{"y":394,"x":55.16859436035156,"width":328.2854686817154,"height":16}},{"text":"\t\t\t//we have to assign the Client the function because of the ","targetRectangle":{"y":426,"x":91.16859436035156,"width":569.879902173765,"height":16}},{"text":" //scoped nature of Node that way we will have access to the function in the callbacks","targetRectangle":{"y":442,"x":181.1685943603516,"width":682.0241794390604,"height":16}},{"text":"\t\t\tC.functions = this.functions","targetRectangle":{"y":474,"x":55.16859436035156,"width":360.0105467950925,"height":16}},{"text":"\t\t\tC.on('connect', function () {","targetRectangle":{"y":506,"x":55.16859436035156,"width":367.9418163234368,"height":16}},{"text":"\t\t\t  C.subscribe('presence')","targetRectangle":{"y":522,"x":55.16859436035156,"width":336.2167382100597,"height":16}},{"text":"\t\t\t  C.publish('presence', 'Hello mqtt')","targetRectangle":{"y":538,"x":55.16859436035156,"width":431.391972550191,"height":16}},{"text":"\t\t\t})","targetRectangle":{"y":554,"x":55.16859436035156,"width":153.7975390581414,"height":16}},{"text":"\t\t\tC.on('message', this.onMessage)","targetRectangle":{"y":586,"x":55.16859436035156,"width":383.8043553801253,"height":16}},{"text":"\t\t\t//NOT SURE IF THIS WILL BE A SECURITY NIGHTMARE","targetRectangle":{"y":602,"x":55.16859436035156,"width":510.7046678336337,"height":16}},{"text":"\t\t\tthis.subscribe(this.id + \"/#\") //subscribe to all id channels","targetRectangle":{"y":618,"x":55.16859436035156,"width":621.7424412304536,"height":16}},{"text":"\t\t}","targetRectangle":{"y":634,"x":55.16859436035156,"width":99.86626952979714,"height":16}},{"text":"\t\telse{","targetRectangle":{"y":650,"x":55.16859436035156,"width":131.5913476431742,"height":16}},{"text":"\t\t\tconsole.log('Please add an ID')","targetRectangle":{"y":666,"x":55.16859436035156,"width":383.8043553801253,"height":16}},{"text":"\t\t}","targetRectangle":{"y":682,"x":55.16859436035156,"width":99.86626952979714,"height":16}},{"text":"\t},","targetRectangle":{"y":698,"x":55.16859436035156,"width":61.86253905668855,"height":16}},{"text":"MQTT WebSocket URL on port 1884","targetRectangle":{"y":225.4550776481628,"x":510.068906262517,"width":464.6233591809869,"height":38}},{"text":"Client SDK (Index.js)","targetRectangle":{"y":61,"x":49,"width":336.5372400000001,"height":48.32814758300782}}],"baseLayer":{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"objectID":"0","layers":[{"animations":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,-0.0004922987690640373,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":251658240,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"layers":[{"animations":[],"layers":[],"initialState":{"affineTransform":[1,0,0,1,0,0],"masksToBounds":false,"rotation":0,"scale":1,"position":{"pointX":512,"pointY":384},"width":1024,"sublayerTransform":[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],"contentsRect":{"y":0,"x":0,"width":1,"height":1},"opacity":1,"edgeAntialiasingMask":0,"height":768,"hidden":false,"anchorPoint":{"pointX":0.5,"pointY":0.5}},"texture":"0A2215BA578701491A129FE9090DA09B"}]}]}}]}} )